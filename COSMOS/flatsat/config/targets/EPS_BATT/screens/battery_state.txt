SCREEN AUTO AUTO 1.0

  TITLE "Battery State" 

  VERTICALBOX
    LABELVALUE EPS_BATT SENSORDAT RECEIVED_TIMEFORMATTED WITH_UNITS 25  # COSMOS Received Time (Local time zone, Formatted string)
    LABELVALUE EPS_BATT SENSORDAT RECEIVED_COUNT # COSMOS packet received count

    HORIZONTALLINE
      LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYCHARGE WITH_UNITS
      VERTICAL
        LABEL "SOC:"
        VALUE EPS_BATT SENSORDAT STATEOFCHARGE WITH_UNITS
      END
      VERTICAL
        LABEL
    END
    
    HORIZONTALLINE
      VERTICALBOX
	LABEL "Pack:"
	LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYVOLT WITH_UNITS
      	LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYCURR WITH_UNITS
        LABEL "BATTER NODE:"
        LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYNODEVOLT WITH_UNITS
        LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYNODECURR WITH_UNITS
	LABEL "Temperature:"
        LABELVALUELIMITSBAR EPS_BATT SENSORDAT BATTERYTEMP WITH_UNITS
      END
      
      VERTICALBOX
      TIMEGRAPH EPS_BATT SENSORDAT BATTERYVOLT WITH_UNITS
      TIMEGRAPH EPS_BATT SENSORDAT BATTERYCURR WITH_UNITS
      TIMEGRAPH EPS_BATT SENSORDAT BATTERYCHARGE WITH_UNITS
        
    END
    
    MATRIXBYCOLOMNS 9 5
      
      LABEL ""
      LABEL "Heater Switch"
      LABEL "Battery Balancer"

      LABEL "Last CMD:"
      VALUE EPS_BATT SENSORDAT LASTBATTHEATERCMD
      VALUE EPS_BATT SENSORDAT LASTBATTBALCMD

      LABEL "State:"
      VALUE EPS_BATT SENSORDAT HEATSTATE
      VALUE EPS_BATT SENSORDAT BALANCESTATE
      
      LABEL ""
      BUTTON 'Toggle' 'cmd("EPS_BATT BATTMGMT BATTBALANCERCMD")'
      BUTTON 'Toggle' 'cmd("EPS_BATT BATTMGMT BATTHEATERCMD")'

    END

      
      
