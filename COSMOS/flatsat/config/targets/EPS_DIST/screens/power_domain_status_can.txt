SCREEN AUTO AUTO 1.0

  TITLE "Power Domain Status [CAN]"

  VERTICALBOX
    LABELVALUE CAN_LOCAL RC_EPS_DIST_1 RECEIVED_TIMEFORMATTED WITH_UNITS 25  # COSMOS Received Time (Local time zone, Formatted string)
    LABELVALUE CAN_LOCAL RC_EPS_DIST_1 RECEIVED_COUNT # COSMOS packet received count
    
    HORIZONTALLINE   
      HORIZONTAL 
        #SPACER 30 10
        LABELFORMATVALUE CAN_LOCAL RC_EPS_DIST_3 RC_EPS_DIST_3_BATT_V_AVG "%0.3f V"
		LIMITSBAR CAN_LOCAL RC_EPS_DIST_3 RC_EPS_DIST_3_BATT_V_AVG
        LABELVALUE CAN_LOCAL RC_EPS_DIST_2 RC_EPS_DIST_2_UV_STATE CONVERTED 25 CENTER
        LABEL "Ptl/Full Tholds:"
        #VALUE EPS_DIST GENERAL UVFULLTHRSH WITH_UNITS
      END
    HORIZONTALLINE  
  
    MATRIXBYCOLUMNS 5 2 2
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '4', voltNum: '5', ss: 'COM1'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '6', voltNum: '7', ss: 'COM2'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '8', voltNum: '9', ss: 'RAHS'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '10', voltNum: '11', ss: 'BDOT'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '12', voltNum: '13', ss: 'ESTIM'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '14', voltNum: '15', ss: 'EPS'} %>
		<%= render "_scrn_pd_view_can.txt", locals: {currNum: '16', voltNum: '17', ss: 'PPT'} %>
    
    END

    SPACER 300 10
    HORIZONTALLINE
    SPACER 300 10
    
    BUTTON 'Toggle All' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_COM1 3, GCMD_DIST_SET_PD_STATE_COM2 3, GCMD_DIST_SET_PD_STATE_RAHS 3, GCMD_DIST_SET_PD_STATE_BDOT 3, GCMD_DIST_SET_PD_STATE_ESTIM 3, GCMD_DIST_SET_PD_STATE_WHEELS 3, GCMD_DIST_SET_PD_STATE_EPS 3, GCMD_DIST_SET_PD_STATE_PPT 3")'    
    BUTTON 'Enable All' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_COM1 1, GCMD_DIST_SET_PD_STATE_COM2 1, GCMD_DIST_SET_PD_STATE_RAHS 1, GCMD_DIST_SET_PD_STATE_BDOT 1, GCMD_DIST_SET_PD_STATE_ESTIM 1, GCMD_DIST_SET_PD_STATE_WHEELS 1, GCMD_DIST_SET_PD_STATE_EPS 1, GCMD_DIST_SET_PD_STATE_PPT 1")'  
    BUTTON 'Disable All' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_COM1 2, GCMD_DIST_SET_PD_STATE_COM2 2, GCMD_DIST_SET_PD_STATE_RAHS 2, GCMD_DIST_SET_PD_STATE_BDOT 2, GCMD_DIST_SET_PD_STATE_ESTIM 2, GCMD_DIST_SET_PD_STATE_WHEELS 2, GCMD_DIST_SET_PD_STATE_EPS 2, GCMD_DIST_SET_PD_STATE_PPT 2")'    
        
    SPACER 300 10
    HORIZONTALLINE
    SPACER 300 10
        
    MATRIXBYCOLUMNS 9 2 2
      LABEL ""      
      LABEL "COM1"
      LABEL "COM2"
      LABEL "RAHS"
      LABEL "BDOT"
      LABEL "ESTIM"
      LABEL "WHEELS"
      LABEL "EPS"
      LABEL "PPT"
      
      LABEL "State"
      VALUE CAN_LOCAL RC_EPS_DIST_4 RC_EPS_DIST_4_COM1_STATE
      VALUE CAN_LOCAL RC_EPS_DIST_6 RC_EPS_DIST_6_COM2_STATE
      VALUE CAN_LOCAL RC_EPS_DIST_8 RC_EPS_DIST_8_RAHS_STATE
      VALUE CAN_LOCAL RC_EPS_DIST_10 RC_EPS_DIST_10_BDOT_STATE
      VALUE CAN_LOCAL RC_EPS_DIST_12 RC_EPS_DIST_12_ESTIM_STATE
	  VALUE EPS_DIST GENERAL SW_WHEELS
      VALUE CAN_LOCAL RC_EPS_DIST_14 RC_EPS_DIST_14_EPS_STATE
      VALUE CAN_LOCAL RC_EPS_DIST_16 RC_EPS_DIST_16_PPT_STATE
      
      LABEL "Toggle"
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_COM1 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_COM2 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_RAHS 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_BDOT 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_ESTIM 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_WHEELS 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_EPS 3")'
      BUTTON 'Toggle' 'cmd("CAN_LOCAL_CMD GCMD_DIST_SET_PD_STATE with GCMD_DIST_SET_PD_STATE_PPT 3")'
         
    END
       
    SPACER 300 10
    
  END